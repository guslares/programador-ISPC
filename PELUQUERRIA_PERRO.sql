#A) CREAR BASE DE DATOS TABLAS SEGUN MODELO RELACIONAL
#B) RALALIZAR PUNTOS 1 Y 2
#C) SE REALIZO EL PUNTO 12

CREATE DATABASE PELUQUERIA_CANINA;
USE PELUQUERIA_CANINA;

CREATE TABLE DUENO ( 
DNI INT NOT NULL,
NOMBRE VARCHAR (25) NOT NULL,
APELLIDO VARCHAR (25) NOT NULL,
TELEFONO VARCHAR (15) NOT NULL,
DIRECCION VARCHAR (250) NOT NULL,
PRIMARY KEY (DNI),
CHECK (DNI>0)
);

CREATE TABLE PERRO (
ID_PERRO INT NOT NULL AUTO_INCREMENT,
NOMBRE VARCHAR (25) NOT NULL,
FECHA_NAC DATE NOT NULL,
SEXO CHAR NOT NULL,
DNI_DUENO INT NOT NULL,
PRIMARY KEY (ID_PERRO),
FOREIGN KEY (DNI_DUENO) REFERENCES DUENO (DNI)
);

CREATE TABLE HISTORIAL (
ID_HISTORIAL INT NOT NULL AUTO_INCREMENT,
FECHA DATE NOT NULL,
DESCRIPCION VARCHAR (255) NOT NULL,
MONTO DECIMAL (9,2) NOT NULL,
PERRO INT NOT NULL,
PRIMARY KEY (ID_HISTORIAL),
FOREIGN KEY (PERRO) REFERENCES PERRO (ID_PERRO),
CHECK (MONTO>0)
);

INSERT INTO DUENO (DNI, NOMBRE, APELLIDO, TELEFONO, DIRECCION)
VALUE (29578849, "PAULO", "KRANEWITTER", "03446-15541863", "DUELLO JURADO 2325"),
	  (30589140, "SOFIA", "LOPEZ", "03446-15435260", "SAN MARTIN 200"),
      (40120341, "MARTIN", "SANCHEZ", "03487-44300", "BOLIVAR 320");
      
INSERT INTO PERRO (NOMBRE, FECHA_NAC, SEXO, DNI_DUENO)
VALUE ("DONKA", "2012-07-05", "M", 29578849),
	  ("FLOPI", "2018-08-15", "F", 30589140),
      ("ROCO", "2021-10-09", "M", 40120341);
      
INSERT INTO HISTORIAL (FECHA, DESCRIPCION, MONTO, PERRO)
VALUE ("2018-04-11", "COLLIE", 1000.00, 1),
	  ("2020-03-20", "POODLE", 2500.99, 2),
      ("2022-05-19", "BULLDOG", 1800.50, 3);

#12) OBTENER TODOS LOS PERROS DE SEXO "MACHO" NASIDOS ENTRE 2020 Y 2022
	
SELECT ID_PERRO,PERRO.NOMBRE AS NOMBRE_PERRO,FECHA_NAC,SEXO,DESCRIPCION,DUENO.NOMBRE,APELLIDO,DNI,TELEFONO,DIRECCION FROM PERRO 
INNER JOIN DUENO ON PERRO.DNI_DUENO = DUENO.DNI
INNER JOIN HISTORIAL ON PERRO.ID_PERRO = HISTORIAL.PERRO
WHERE PERRO.SEXO = "M" AND PERRO.FECHA_NAC BETWEEN "2020-01-01" AND "2022-12-30"; 









      

      
	








